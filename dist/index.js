!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.qstring={})}(this,function(r){"use strict";var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},h=function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,n){var e=[],t=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(t=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);t=!0);}catch(r){o=!0,i=r}finally{try{!t&&u.return&&u.return()}finally{if(o)throw i}}return e}(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function m(r){var n=[r.indexOf("["),r.indexOf("]")],e=n[0],t=n[1];return-1===e||-1===t?{isArray:!1}:{inner:r.substring(e+1,t),openingIndex:e,closingIndex:t,isArray:!0,hasBrackets:!0}}function n(r){var n=void 0;Array.isArray(r)?n=r:n=("?"===r[0]?r.substring(1):r).split("&");var e=n.map(function(r){return r.split("=")}).map(function(r){var n=h(r,2),e=n[0],t=n[1];return[e.split("."),t]}),o={};return e.forEach(function(r){var n=h(r,2),e=n[0],t=n[1];return function r(n){var e=this.value,t=this.parentScope,o=n.shift(),i=m(o),a=i.inner,u=i.openingIndex,c=i.hasBrackets,l=decodeURIComponent(c?o.substring(0,u):o),f=!!n.length,s=t[l],p=c||!f&&l in t&&s!==e,y=!p||c||Array.isArray(s)?s||(c?[]:f?{}:e):[s];t[l]=y;var d=void 0;if(p){var v=e;f&&(v=d={}),a?y[a]=v:y.push(v)}else f&&(d=y);d&&r.call({parentScope:d,value:e},n)}.call({parentScope:o,value:!t||i(t)},e)}),o}function i(r){var n=parseFloat(r);if(!isNaN(n))return n;var e=m(r),t=e.isArray,o=e.inner;e.openingIndex,e.closingIndex;return t?o.split(",").map(i):decodeURIComponent(r)}r.parse=n,r.stringify=function(r){var n=[];return function r(n){var e=this||{},t=e.parentKey,o=e.collection,i=n&&"object"===(void 0===n?"undefined":b(n)),a=Array.isArray(n);if(!i&&!a)return o.push(t+"="+encodeURIComponent(n));var u=Object.entries(n),c=!0,l=!1,f=void 0;try{for(var s,p=u[Symbol.iterator]();!(c=(s=p.next()).done);c=!0){var y=h(s.value,2),d=y[0],v=y[1],m=encodeURIComponent(d);r.call({parentKey:a?t+"["+m+"]":t?t+"."+m:m,collection:o},v)}}catch(r){l=!0,f=r}finally{try{!c&&p.return&&p.return()}finally{if(l)throw f}}}.call({collection:n},r),"?"+n.join("&")},r.parseProcessArgs=function(r){return n(r.filter(function(r){return r.includes("--")}).map(function(r){return r.replace("--","")}))},Object.defineProperty(r,"__esModule",{value:!0})});
