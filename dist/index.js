!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.qstring={})}(this,function(t){"use strict";var b=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(e.push(o.value),!r||e.length!==r);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.parse=function(t){var r=t.substring(1).split("&").map(function(t){return t.split("=").map(function(t){return t.split(".")})}),o={};return r.forEach(function(t){var r,e,n=b(t,2),i=n[0],a=n[1];return function t(r){var e=this.value,n=this.parentScope,i=r.shift(),a=i.indexOf("["),o=i.indexOf("]"),l=0<a&&o===i.length-1,u=i,c=void 0;l&&(u=i.substring(0,a),c=i.substring(a+1,o));var f=!!r.length,s=n[u],p=l||!f&&u in n&&s!==e,v=!p||l||Array.isArray(s)?s||(l?[]:f?{}:e):[s];n[u]=v;var y=void 0;if(p){var d=e;f&&(d=y={}),c?v[c]=d:v.push(d)}else f&&(y=v);y&&t.call({parentScope:y,value:e},r)}.call({parentScope:o,value:!a||(r=a[0],e=parseFloat(r),isNaN(e)?r:e)},i)}),o},t.stringify=function(t){var r=[];return function t(r){var e,n=this||{},i=n.parentKey,a=n.collection,o=(e=r,{}.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase()),l="array"===o;if("object"!==o&&!l)return a.push(i+"="+r);var u=Object.entries(r),c=!0,f=!1,s=void 0;try{for(var p,v=u[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var y=b(p.value,2),d=y[0],h=y[1];t.call({parentKey:l?i+"["+d+"]":i?i+"."+d:d,collection:a},h)}}catch(t){f=!0,s=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw s}}}.call({collection:r},t),"?"+r.join("&")},Object.defineProperty(t,"__esModule",{value:!0})});
